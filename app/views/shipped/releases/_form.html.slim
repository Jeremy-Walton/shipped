= form_with(model: release, class: 'card') do |form|
  .card__body
    - if release.errors.any?
      .form-error-summary
        h2 "#{pluralize(release.errors.count, "error")} prohibited this release from being saved:"
        ul
          - release.errors.each do |error|
            li = error.full_message

    .grid-evenly-spaced.gap-md
      .form-group
        = form.label :commit_sha, class: 'form-label'
        = form.text_field :commit_sha, class: 'form-control'

      .form-group
        = form.label :released_at, class: 'form-label'
        = form.datetime_field :released_at, class: 'form-control'

    .form-group
      = form.label :notes, class: 'form-label'
      = form.hidden_field :notes
      trix-editor input="release_notes"

  .card__footer
    .flex.gap-md.justify-end
      = link_to 'Cancel', root_path, class: 'btn'
      = form.submit class: 'btn btn--primary'
